<mat-card class="pending-widget">
  <mat-card-content>
    <div class="widget-header">
      <div class="widget-icon">
        <mat-icon>account_balance_wallet</mat-icon>
      </div>
      <div class="widget-title">Pending Amount</div>
    </div>

    <div *ngIf="loading" class="loading-state">
      <div class="skeleton-text large"></div>
      <div class="skeleton-text small"></div>
    </div>

    <div *ngIf="!loading && data" class="widget-content">
      <div class="main-amount">
        {{ formatCurrency(data.amount) }}
      </div>
      
      <div class="sub-amount" *ngIf="data.amountUSD > 0">
        {{ formatUSD(data.amountUSD) }}
      </div>

      <div class="widget-stats">
        <div class="stat-item">
          <span class="stat-label">Students</span>
          <span class="stat-value">{{ data.studentsCount }}</span>
        </div>
      </div>

      <div class="overdue-section" *ngIf="hasOverdue()">
        <div class="overdue-header">
          <mat-icon class="warning-icon">warning</mat-icon>
          <span class="overdue-label">Overdue Amount</span>
        </div>
        <div class="overdue-amount">
          {{ formatCurrency(data.overdueAmount) }}
        </div>
        <div class="overdue-details">
          <span class="overdue-count">{{ data.overdueCount }} students</span>
          <span class="overdue-percentage">{{ getOverduePercentage() }}% of pending</span>
        </div>
      </div>

      <div class="info-message" *ngIf="!hasOverdue()">
        <mat-icon>check_circle</mat-icon>
        <span>No overdue payments</span>
      </div>
    </div>

    <div *ngIf="!loading && !data" class="no-data">
      <mat-icon>info</mat-icon>
      <p>No data available</p>
    </div>
  </mat-card-content>
</mat-card>
